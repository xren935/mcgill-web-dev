<!doctype html>
<html lang="en">

<head>
    <title>Register</title>
    <meta charset=”utf-8” />
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
</head>

<body>


    <h1>Please Login</h1>
    <ul id="msg"></ul>
    <form name="input" action="check.py" method="post" id="myform">
        <label for="uname"><b>Username:</b></label>
        <input type="text" name="username" id="username" required></input>
        <br></br>
        <label for="psw"><b>Password:</b></label>
        <input type="password" name="password" id="password" required></input>
        <br><br />
        <button type="submit" id="sub" onclick="addMsg()">Login</button>
    </form>
    <script>
        formdata = {
            'username': document.getElementById("username"),
            'password': document.getElementById("password")
        }
        $.ajax({
            url: '/pyfoo',
            type: 'POST',
            data: formdata,
            success: function () {
                alert("hi")
            }
        });

        $("#myform").submit(function (event) {

            /* stop form from submitting normally */
            event.preventDefault();

            /* get the action attribute from the <form action=""> element */
            var $form = $(this),
                url = $form.attr('action');

            /* Send the data using post with element id name and name2*/
            var posting = $.post(url, {
                username: $('#username').val(),
                password: $('#password').val()
            });

            /* Alerts the results */
            posting.done(function (data) {
                $('#msg').text('success');
            });
            posting.fail(function () {
                $('#msg').text('failed');
            });
        });
    </script>
</body>

</html>